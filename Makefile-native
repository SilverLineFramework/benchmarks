export MODE=native

# Compilation flags
export WASMCC=gcc
export WASMCFLAGS=-O1

# Linking flags
export WASMLD=gcc
export WASMLDFLAGS=

# Benchmark base common: Used by benchmarks to access the wrapper
export ROOT_DIR= $(shell pwd)
export ROOT_DATA_DIR=$(ROOT_DIR)/data
export ROOT_WASM_DIR=$(ROOT_DIR)/native

# WASM: goes in ./wasm folder
.PHONY: wasm
wasm: polybench mibench cortex vision sod

.PHONY: tests polybench mibench cortex vision
tests:
	make -C tests
polybench:
	make -C polybench
mibench:
	make -C mibench
cortex:
	make -C cortex
vision:
	make -C vision

sod:
	make -C sod

# Clean
.PHONY: clean
clean:
	rm -rf $(ROOT_WASM_DIR)
	rm -rf $(ROOT_DATA_DIR)
